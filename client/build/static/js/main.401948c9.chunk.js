(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{66:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var c=t(1),s=t.n(c),n=t(35),r=t.n(n),i=t(2),o=t.n(i),l=t(6),d=t(5),j=t(3),b=t(8),u=t(9),m=t(0);var h=function(e){var a=Object(u.g)();return Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"navbar navbar-expand-lg navbar-light",style:{backgroundColor:"#ffc107"},children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsxs)("a",{className:"navbar-brand",href:"http://localhost:3000",children:[Object(m.jsx)("img",{src:"https://seeklogo.com/images/U/UGMA-logo-2BA53AE2C9-seeklogo.com.png",width:"30",height:"25",className:"d-inline-block align-text-top me-2",alt:"Logo de la Universidad"}),"UGMA"]}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:[Object(m.jsxs)("div",{className:"navbar-nav",children:[Object(m.jsx)("a",{href:"/",className:"nav-link active",children:"Inicio"}),Object(m.jsx)("a",{href:"/contacto",className:"nav-link active",children:"Contactenos"}),Object(m.jsxs)("nav",{className:"nav-item dropdown",children:[Object(m.jsx)("nav",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Registro"}),Object(m.jsxs)("nav",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(m.jsx)("a",{className:"dropdown-item",href:"/registro",children:"Registro de Estudiante"}),Object(m.jsx)("a",{className:"dropdown-item",href:"/recuperar",children:"Recuperar Contrase\xf1a"})]})]})]}),void 0===e.login&&Object(m.jsx)("div",{className:"navbar-nav flex-row flex-wrap ms-md-auto",children:Object(m.jsx)("button",{className:"btn btn-outline-dark",type:"button",onClick:function(){a.push("/login")},children:"Iniciar Sesion"})})]})]})})})};var x=function(){return Object(m.jsx)("footer",{className:"pt-3 mt-4 text-muted border-top",children:Object(m.jsx)("p",{className:"ps-3",children:"Luis Daniel Cova \xa9 2021"})})};var O=function(){return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(h,{}),Object(m.jsx)("div",{className:"col-xxl-8 px-5 py-4 my-4 shadow-lg",children:Object(m.jsxs)("div",{className:"row flex-lg-row-reverse align-items-center g-5 py-5",children:[Object(m.jsx)("div",{className:"col-10 col-sm-8 col-lg-6",children:Object(m.jsx)("img",{src:"https://images.unsplash.com/photo-1563394867331-e687a36112fd?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1510&q=80",alt:"",className:"d-block mx-lg-auto img-fluid rounded-3"})}),Object(m.jsxs)("div",{className:"col-lg-6",children:[Object(m.jsx)("h1",{className:"display-5 fw-bold lh-1 mb-3",children:"Bienvenido a la UGMA"}),Object(m.jsx)("p",{className:"lead",children:"Este sitio web sirve como salon virtual de clases para los estudiantes de las carreras de Ingenieria Informatica e Ingenieria de Sistemas de la UGMA"})]})]})}),Object(m.jsx)(x,{})]})};var p=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(O,{})})},f=t(11),v=t(4),N=t.n(v);var g=function(e){var a=e.materia,t=e.tarjeta,s=Object(u.g)(),n=Object(c.useState)(""),r=Object(j.a)(n,2),i=r[0],l=r[1],b=function(){var e="";l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Confirme su accion"})}),Object(m.jsxs)("p",{children:["Para confirmar la accion de borrar la materia, por favor ingrese el nombre (",Object(m.jsx)("strong",{children:a.nombre}),") de la materia:"]}),Object(m.jsx)("input",{type:"text",name:"confirmarCedula",id:"confirmarCedula",className:"form-control",placeholder:"Ingrese la cedula del usuario",onChange:function(a){var t=a.target.value;e=t}}),Object(m.jsxs)("button",{className:"btn btn-danger mt-2",onClick:function(){h(e,a.nombre,a._id)},children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Confirmar"]}),Object(m.jsxs)("button",{className:"btn btn-warning ms-1 mt-2",type:"button","data-bs-dismiss":"modal",children:[Object(m.jsx)("i",{className:"bi bi-x-circle"})," Cancelar"]})]}))},h=function(){var e=Object(d.a)(o.a.mark((function e(t,c,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==c){e.next=7;break}return e.next=3,N.a.delete("".concat("http://localhost:3001","/materias/borrar/").concat(a._id));case 3:200===(r=e.sent).status?l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:r.data.mensaje})}),Object(m.jsx)("button",{className:"btn btn-warning",type:"button","data-bs-dismiss":"modal",onClick:function(){s.push("/materias/")},children:"Cerrar"})]})):l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Ha ocurrido un error, intente nuevamente"})}),Object(m.jsx)("button",{className:"btn btn-warning",type:"button","data-bs-dismiss":"modal",onClick:function(){s.push("/materias/".concat(a._id,"/"))},children:"Cerrar"})]})),e.next=8;break;case 7:alert("Nombre invalido");case 8:case"end":return e.stop()}}),e)})));return function(a,t,c){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"text-dark",children:[Object(m.jsxs)("button",{type:"button",className:"btn btn-danger "+(t?"col-xl-4 mt-2":"w-100 mt-1"),"data-bs-toggle":"modal","data-bs-target":"#modalBorrar",onClick:function(){l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"\xa1Atencion!"})}),Object(m.jsxs)("p",{children:["Estas a punto de borrar la materia:"," ",Object(m.jsx)("strong",{children:a.nombre}),", esta accion es"," ",Object(m.jsx)("strong",{children:"permanente"})," y hara que todas las actividades, archivos y notas de esta materia sean eliminadas del sistema."]}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"\xbfEstas seguro que quieres continuar?"})}),Object(m.jsxs)("button",{className:"btn btn-danger",onClick:b,children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Borrar"]}),Object(m.jsxs)("button",{className:"btn btn-warning ms-1",type:"button","data-bs-dismiss":"modal",children:[Object(m.jsx)("i",{className:"bi bi-x-circle"})," Cancelar"]})]}))},children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Borrar"]}),Object(m.jsx)("div",{className:"modal fade",id:"modalBorrar","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"Ventana para Borrar","aria-hidden":"true",children:Object(m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h5",{className:"modal-title",id:"Calificar",children:"Borrar Materia"}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),i]})})})]})};var w=function(e){var a=e.materia,t=Object(c.useContext)(je).usuario,s=Object(c.useState)(),n=Object(j.a)(s,2),r=n[0],i=n[1],o=Object(u.g)();return Object(c.useEffect)((function(){switch(t.cargo){case"Administrador":i(Object(m.jsxs)("div",{className:"col",children:[Object(m.jsxs)("button",{className:"btn btn-warning me-2",onClick:function(){o.push("/materias/".concat(a._id))},children:[Object(m.jsx)("i",{className:"bi bi-file-text"})," Detalles"]}),Object(m.jsxs)("button",{className:"btn btn-warning col-xl-5 me-2",onClick:function(){o.push("/materia/crear/".concat(a._id))},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Actualizar"]}),Object(m.jsx)(g,{tarjeta:!0,materia:a})]}));break;case"Profesor":case"Estudiante":i(Object(m.jsxs)("button",{className:"btn btn-warning",onClick:function(){o.push("/materias/".concat(a._id))},children:[Object(m.jsx)("i",{className:"bi bi-file-text"})," Detalles"]}))}}),[t,a,o]),Object(m.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 my-2",children:Object(m.jsxs)("div",{className:"card border-dark bg-light shadow",children:[Object(m.jsx)("h5",{className:"card-header bg-warning",children:a.nombre}),Object(m.jsxs)("div",{className:"card-body ",children:[Object(m.jsxs)("h5",{className:"card-title",children:["Profesor: ",a.profesor.nombre]}),Object(m.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Seccion: ",a.seccion]}),Object(m.jsx)("p",{className:"card-text ",children:a.descripcion}),Object(m.jsxs)("p",{className:"card-text",children:["Inscritos: ",a.estudiantes.length," / 30"]}),r]})]})})};var k=function(){var e=Object(u.g)(),a=Object(c.useContext)(je),t=a.usuario,s=a.setUsuario,n=Object(c.useState)(),r=Object(j.a)(n,2),i=r[0],o=r[1],l=Object(c.useState)(),d=Object(j.a)(l,2),b=d[0],h=d[1];return Object(c.useEffect)((function(){"Administrador"===t.cargo?(o(Object(m.jsxs)("li",{children:[Object(m.jsxs)("a",{href:"#submenu1","data-bs-toggle":"collapse",className:"nav-link px-0 align-middle link-warning",children:[Object(m.jsx)("i",{className:"fs-4 bi bi-book"})," ",Object(m.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Materias"})," "]}),Object(m.jsxs)("ul",{className:"collapse nav flex-column ms-1",id:"submenu1","data-bs-parent":"#menu",children:[Object(m.jsx)("li",{className:"w-100",children:Object(m.jsxs)("a",{href:"/materia/crear",className:"nav-link px-0 link-warning",children:[" ",Object(m.jsx)("span",{className:"d-none d-sm-inline",children:"Crear Materia"})," "]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:"/materias/",className:"nav-link px-0 link-warning",children:[" ",Object(m.jsx)("span",{className:"d-none d-sm-inline",children:"Lista de Materias"})]})})]})]})),h(Object(m.jsxs)("li",{children:[Object(m.jsxs)("a",{href:"#submenu2","data-bs-toggle":"collapse",className:"nav-link px-0 align-middle link-warning",children:[Object(m.jsx)("i",{className:"fs-4 bi-people"})," ",Object(m.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Usuarios"})," "]}),Object(m.jsxs)("ul",{className:"collapse nav flex-column ms-1",id:"submenu2","data-bs-parent":"#menu",children:[Object(m.jsx)("li",{className:"w-100",children:Object(m.jsxs)("a",{href:"/usuario/crear",className:"nav-link link-warning px-0",children:[" ",Object(m.jsx)("span",{className:"d-none d-sm-inline",children:"Crear Usuario"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:"/usuarios/",className:"nav-link px-0 link-warning",children:[" ",Object(m.jsx)("span",{className:"d-none d-sm-inline",children:"Lista de Usuarios"})]})})]})]}))):"Profesor"===t.cargo?o(Object(m.jsxs)("li",{children:[Object(m.jsxs)("a",{href:"#submenu1","data-bs-toggle":"collapse",className:"nav-link px-0 align-middle link-warning",children:[Object(m.jsx)("i",{className:"fs-4 bi bi-book"})," ",Object(m.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Materias"})," "]}),Object(m.jsx)("ul",{className:"collapse nav flex-column ms-1",id:"submenu1","data-bs-parent":"#menu",children:Object(m.jsx)("li",{className:"w-100",children:Object(m.jsxs)("a",{href:"/materias",className:"nav-link px-0 link-warning",children:[" ",Object(m.jsx)("span",{className:"d-none d-sm-inline",children:"Mis Materias"})," "]})})})]})):"Estudiante"===t.cargo?o(Object(m.jsxs)("li",{children:[Object(m.jsxs)("a",{href:"#submenu1","data-bs-toggle":"collapse",className:"nav-link px-0 align-middle link-warning",children:[Object(m.jsx)("i",{className:"fs-4 bi bi-book"})," ",Object(m.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Materias"})," "]}),Object(m.jsx)("ul",{id:"submenu1",className:"collapse nav flex-colum ms-1","data-bs-parent":"#menu",children:Object(m.jsx)("li",{className:"w-100",children:Object(m.jsxs)("a",{href:"/materias/inscribir",className:"nav-link px-0 link-warning",children:[" ",Object(m.jsx)("span",{className:"d-none d-sm-inline",children:"Inscribir Materias"})," "]})})}),Object(m.jsx)("ul",{className:"collapse nav flex-column ms-1",id:"submenu1","data-bs-parent":"#menu",children:Object(m.jsx)("li",{className:"w-100",children:Object(m.jsxs)("a",{href:"/materias/",className:"nav-link px-0 link-warning",children:[" ",Object(m.jsx)("span",{className:"d-none d-sm-inline",children:"Mis Materias"})," "]})})})]})):t.status}),[t]),Object(m.jsx)("div",{className:"col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark",children:Object(m.jsxs)("div",{className:"d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100 sticky-top",children:[Object(m.jsxs)("a",{href:"/inicio",className:"d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none",children:[Object(m.jsx)("img",{src:"https://seeklogo.com/images/U/UGMA-logo-2BA53AE2C9-seeklogo.com.png",width:"30",height:"25",className:"d-inline-block align-text-top me-2",alt:"Logo de la Universidad"}),Object(m.jsx)("span",{className:"fs-5 d-none d-sm-inline",children:"Menu"})]}),Object(m.jsxs)("ul",{className:"nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start",id:"menu",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)("a",{href:"/inicio",className:"nav-link link-warning align-middle px-0",children:[Object(m.jsx)("i",{className:"fs-4 bi-house"})," ",Object(m.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Inicio"})]})}),t.status&&i,Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:"/notas/",className:"nav-link px-0 align-middle link-warning",children:[Object(m.jsx)("i",{className:"fs-4 bi bi-award"})," ",Object(m.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Notas"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:"http://localhost:3002","data-bs-toggle":"collapse",className:"nav-link px-0 align-middle link-warning",children:[Object(m.jsx)("i",{className:"fs-4 bi bi-terminal"})," ",Object(m.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Compilador"})]})}),t.status&&b]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:"dropdown pb-4",children:[Object(m.jsxs)("a",{href:"/",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle",id:"dropdownUser1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(m.jsx)("img",{src:"https://icon-library.com/images/anon-icon/anon-icon-6.jpg",alt:"hugenerd",width:"30",height:"30",className:"rounded-circle"}),Object(m.jsx)("span",{className:"d-none d-sm-inline mx-1",children:t.usuario})]}),Object(m.jsxs)("ul",{className:"dropdown-menu dropdown-menu-dark text-small shadow","aria-labelledby":"dropdownUser1",children:[Object(m.jsx)("li",{children:Object(m.jsxs)("a",{className:"dropdown-item",href:"/usuarios/".concat(t.id),children:[" ","Perfil"]})}),Object(m.jsx)("li",{children:Object(m.jsx)("hr",{className:"dropdown-divider"})}),Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"btn text-light",onClick:function(){localStorage.removeItem("accessToken"),s(void 0),e.push("/")},children:"Cerrar Sesion"})})]})]})]})})};var C=Object(u.i)((function(){var e=Object(c.useContext)(je).usuario,a=Object(c.useState)([]),t=Object(j.a)(a,2),s=t[0],n=t[1],r=Object(c.useState)([]),i=Object(j.a)(r,2),l=i[0],b=i[1],u=Object(c.useState)(""),h=Object(j.a)(u,2),x=h[0],O=h[1],p=Object(c.useState)(""),v=Object(j.a)(p,2),g=v[0],C=v[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(a){var t,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.cargo,e.next="Administrador"===e.t0?3:"Profesor"===e.t0?8:"Estudiante"===e.t0?13:18;break;case 3:return e.next=5,N.a.get("".concat("http://localhost:3001","/materias/"));case 5:return t=e.sent,n(t.data),e.abrupt("break",19);case 8:return e.next=10,N.a.get("".concat("http://localhost:3001","/materias/profesor/").concat(a.id));case 10:return c=e.sent,n(c.data.materias),e.abrupt("break",19);case 13:return e.next=15,N.a.get("".concat("http://localhost:3001","/materias/estudiante/").concat(a.id));case 15:return s=e.sent,n(s.data.materias),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}})()(e)}),[e]),Object(c.useEffect)((function(){s.length>0&&s.map((function(e,a){return b((function(t){return[].concat(Object(f.a)(t),[Object(m.jsx)(w,{materia:e},a)])}))}))}),[s]),Object(c.useEffect)((function(){switch(e.cargo){case"Administrador":O(Object(m.jsx)("h1",{className:"m-3",children:"Administrar Materias"})),C(Object(m.jsx)("p",{className:"lead m-3",children:"Aqui podras ver todas las materias en el sistema, actualizarlas o eliminarlas"}));break;case"Profesor":O(Object(m.jsx)("h1",{className:"m-3",children:"Tus Materias"})),C(Object(m.jsx)("p",{className:"lead m-3",children:"Aqui podras ver todas las materias de las cuales eres profesor. Al pulsar el boton en la materia respectiva, iras a la pagina de ella."}));break;case"Estudiante":O(Object(m.jsx)("h1",{className:"m-3",children:"Lista de Materias"})),C(Object(m.jsx)("p",{className:"lead m-3",children:"Aqui puedes ver tus materias inscritas, haz click en el boton de detalles para dirigirte a la pagina de detalles de la materia"}))}}),[e]),Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsxs)("div",{className:"col py-3",children:[x,g,Object(m.jsx)("div",{className:"row m-2",children:l&&l})]})]})})}));var y=function(e){var a=e.actividad,t=e.tarjeta,s=Object(u.g)(),n=Object(c.useState)(""),r=Object(j.a)(n,2),i=r[0],l=r[1],b=function(){var e="";l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Confirme su accion"})}),Object(m.jsxs)("p",{children:["Para confirmar la accion de borrar la actividad, por favor ingrese el nombre (",Object(m.jsx)("strong",{children:a.nombre}),") de la actividad:"]}),Object(m.jsx)("input",{type:"text",name:"confirmarCedula",id:"confirmarCedula",className:"form-control",placeholder:"Ingrese la cedula del usuario",onChange:function(a){var t=a.target.value;e=t}}),Object(m.jsxs)("button",{className:"btn btn-danger mt-2",onClick:function(){h(e,a.nombre,a._id)},children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Confirmar"]}),Object(m.jsxs)("button",{className:"btn btn-warning ms-1 mt-2",type:"button","data-bs-dismiss":"modal",children:[Object(m.jsx)("i",{className:"bi bi-x-circle"})," Cancelar"]})]}))},h=function(){var e=Object(d.a)(o.a.mark((function e(t,c,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==c){e.next=7;break}return e.next=3,N.a.delete("".concat("http://localhost:3001","/materias/").concat(a.materia._id,"/actividades/").concat(a._id,"/borrar"));case 3:200===(r=e.sent).status?l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:r.data.mensaje})}),Object(m.jsx)("button",{className:"btn btn-warning",type:"button","data-bs-dismiss":"modal",onClick:function(){s.push("/materias/".concat(a.materia._id))},children:"Cerrar"})]})):l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Ha ocurrido un error, intente nuevamente"})}),Object(m.jsx)("button",{className:"btn btn-warning",type:"button","data-bs-dismiss":"modal",onClick:function(){s.push("/materias/".concat(a.materia._id,"/actividades/").concat(a._id))},children:"Cerrar"})]})),e.next=8;break;case 7:alert("Nombre invalido");case 8:case"end":return e.stop()}}),e)})));return function(a,t,c){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"text-dark",children:[Object(m.jsxs)("button",{type:"button",className:"btn btn-danger "+(t?"col-xl mt-2":"w-100 mt-1"),"data-bs-toggle":"modal","data-bs-target":"#modalBorrar",onClick:function(){l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"\xa1Atencion!"})}),Object(m.jsxs)("p",{children:["Estas a punto de borrar la actividad:"," ",Object(m.jsx)("strong",{children:a.nombre}),", esta accion es"," ",Object(m.jsx)("strong",{children:"permanente"})," y hara que todos los archivos y notas de esta actividad sean eliminadas del sistema."]}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"\xbfEstas seguro que quieres continuar?"})}),Object(m.jsxs)("button",{className:"btn btn-danger",onClick:b,children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Borrar"]}),Object(m.jsxs)("button",{className:"btn btn-warning ms-1",type:"button","data-bs-dismiss":"modal",children:[Object(m.jsx)("i",{className:"bi bi-x-circle"})," Cancelar"]})]}))},children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Borrar"]}),Object(m.jsx)("div",{className:"modal fade",id:"modalBorrar","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"Ventana para Borrar","aria-hidden":"true",children:Object(m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h5",{className:"modal-title",id:"Calificar",children:"Borrar Actividad"}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),i]})})})]})};var E=function(e){var a=e.actividad,t=Object(u.g)(),s=Object(c.useContext)(je).usuario,n=Object(c.useState)(""),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){switch(s.cargo){case"Administrador":o(Object(m.jsxs)("button",{className:"btn btn-warning col-xl me-2",onClick:function(){t.push("/materias/".concat(a.materia._id,"/actividades/").concat(a._id))},children:[Object(m.jsx)("i",{className:"bi bi-file-text"})," Detalles"]}));break;case"Profesor":o(Object(m.jsxs)("div",{className:"col",children:[Object(m.jsxs)("button",{className:"btn btn-warning col-xl me-2",onClick:function(){t.push("/materias/".concat(a.materia._id,"/actividades/").concat(a._id))},children:[Object(m.jsx)("i",{className:"bi bi-file-text"})," Detalles"]}),Object(m.jsxs)("button",{className:"btn btn-warning col-xl me-2",onClick:function(){t.push("/materias/".concat(a.materia._id,"/actividad/crear/").concat(a._id))},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Editar"]}),Object(m.jsx)(y,{tarjeta:!0,actividad:a})]}));break;case"Estudiante":o(Object(m.jsxs)("button",{className:"btn btn-warning",onClick:function(){t.push("/materias/".concat(a.materia._id,"/actividades/").concat(a._id))},children:[Object(m.jsx)("i",{className:"bi bi-file-text"})," Detalles"]}));break;default:o(Object(m.jsx)("p",{className:"card-text",children:"Ha ocurrido un error, cargue nuevamente la pagina"}))}}),[s,a,t]),Object(m.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12 my-2",children:Object(m.jsxs)("div",{className:"card border-dark bg-light shadow",children:[Object(m.jsx)("h5",{className:"card-header bg-warning",children:a.nombre}),Object(m.jsxs)("div",{className:"card-body ",children:[Object(m.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Fecha de Entrega: ",a.fechaEntrega.slice(0,10)]}),Object(m.jsx)("p",{className:"card-text ",children:a.descripcion}),Object(m.jsxs)("p",{className:"card-text",children:["Nota: ",a.nota]}),i]})]})})};var S=Object(u.i)((function(){var e=Object(u.g)(),a=Object(c.useState)(),t=Object(j.a)(a,2),s=t[0],n=t[1],r=Object(c.useState)(),i=Object(j.a)(r,2),l=i[0],b=i[1],h=Object(c.useState)([]),x=Object(j.a)(h,2),O=x[0],p=x[1],v=Object(c.useState)(),w=Object(j.a)(v,2),C=w[0],y=w[1],S=Object(c.useState)(),A=Object(j.a)(S,2),q=A[0],_=A[1],M=Object(c.useContext)(je).usuario,F=Object(c.useState)(""),P=Object(j.a)(F,2),D=P[0],B=P[1],I=Object(u.h)().id;return Object(c.useEffect)((function(){"Administrador"===M.cargo?B(Object(m.jsxs)("div",{className:"card p-2 mt-1",children:[Object(m.jsx)("h4",{className:"fw-bold",children:"Acciones:"}),Object(m.jsxs)("button",{className:"btn btn-warning",onClick:function(){e.push("/materia/crear/".concat(I))},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Editar"]}),Object(m.jsx)(g,{tarjeta:!1,materia:s})]})):"Profesor"===M.cargo&&B(Object(m.jsxs)("div",{className:"card p-2 mt-1",children:[Object(m.jsx)("h4",{className:"fw-bold",children:"Acciones:"}),Object(m.jsx)("button",{className:"btn btn-warning",onClick:function(){e.push("/materias/".concat(I,"/actividad/crear"))},children:"Crear Nueva Actividad"})]}))}),[M,e,I,s]),Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/materias/").concat(I));case 2:a=e.sent,n(a.data.materia);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[I]),Object(c.useEffect)((function(){if(void 0!==s){var e=s.estudiantes;_([e.map((function(e,a){return Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-person"}),e.nombre," - ",e.correo]},a)}))])}}),[s]),Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s){e.next=5;break}return e.next=3,N.a.get("".concat("http://localhost:3001","/materias/").concat(I,"/actividades"));case 3:void 0!==(a=e.sent).data.lista_actividades&&b(a.data.lista_actividades);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,I]),Object(c.useEffect)((function(){void 0!==l?(l.length>0&&y(""),l.map((function(e,a){return p((function(t){return[].concat(Object(f.a)(t),[Object(m.jsx)(E,{actividad:e},a)])}))}))):y(Object(m.jsx)("div",{className:"col-xl-12",children:Object(m.jsx)("div",{className:"alert alert-warning",children:"No hay actividades"})}))}),[l]),Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col m-3",children:Object(m.jsxs)("div",{className:"card py-3 shadow-lg",children:[Object(m.jsx)("h3",{className:"fw-bold col-md-12 text-center",children:s&&s.nombre}),Object(m.jsxs)("div",{className:"row m-3",children:[Object(m.jsx)("div",{className:"col-lg-8 my-2",children:Object(m.jsxs)("div",{className:"card p-2",children:[Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("strong",{children:"Descripcion:"})," ",s&&s.descripcion]}),Object(m.jsxs)("h4",{className:"fw-bold card-text",children:[Object(m.jsx)("i",{className:"bi bi-clipboard-check"})," Actividades:"]}),Object(m.jsxs)("div",{className:"row",children:[C&&C,O&&O.map((function(e){return e}))]})]})}),Object(m.jsx)("div",{className:"col-lg-4 my-2",children:Object(m.jsxs)("div",{className:"card p-2",children:[Object(m.jsxs)("div",{className:"card p-2",children:[Object(m.jsxs)("h5",{className:"fw-bold card-text",children:[Object(m.jsx)("i",{className:"bi bi-person-badge"})," Profesor:"]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-eyeglasses"})," ",s&&s.profesor.nombre," -"," ",s&&s.profesor.correo]})]}),Object(m.jsxs)("div",{className:"card p-2 my-1",children:[Object(m.jsxs)("h5",{className:"fw-bold card-text",children:[Object(m.jsx)("i",{className:"bi bi-people"})," Alumnos:"]}),q&&q]}),D]})})]})]})})]})})})),A=function(e){var a=e.errors,t=e.campo;return Object(m.jsx)("div",{children:a.length>0&&Object(m.jsx)("ul",{className:"list-unstyled text-danger",children:a.filter((function(e){return e.param===t})).map((function(e,a){return Object(m.jsx)("li",{className:"error-msg",children:e.msg},a)}))})})};var q=Object(u.i)((function(){var e=Object(u.h)().id,a=Object(u.g)(),t=Object(c.useState)({nombre:"",descripcion:"",seccion:"",profesor:""}),s=Object(j.a)(t,2),n=s[0],r=s[1],i=Object(c.useState)([]),b=Object(j.a)(i,2),h=b[0],x=b[1],O=Object(c.useState)([]),p=Object(j.a)(O,2),f=p[0],v=p[1];Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/usuarios/profesores"));case 2:a=e.sent,x(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){(function(){var a=Object(d.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e){a.next=6;break}return a.next=4,N.a.get("".concat("http://localhost:3001","/materias/crear/").concat(e));case 4:t=a.sent,r(t.data);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[e]);var g=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("".concat("http://localhost:3001","/materias/crear"),t,{headers:{accessToken:localStorage.getItem("accessToken")}});case 3:200===(c=e.sent).status?(alert("Materia Agregada"),a.push("/materias/")):206===c.status?v(c.data.errors.errors):alert("Usuario no tiene sesion activa"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(o.a.mark((function t(c){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.put("".concat("http://localhost:3001","/materias/crear/").concat(e),c);case 3:200===(s=t.sent).status?(alert("Materia actualizada!"),a.push("/materias/")):console.log(s),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col mx-3 py-3 px-3 my-auto",children:Object(m.jsxs)("div",{className:"card py-3 shadow-lg",children:[Object(m.jsx)("h3",{className:"fw-bold col-md-12 text-center",children:"Agregar una Materia"}),Object(m.jsx)("form",{action:"",onSubmit:function(e){e.preventDefault()},children:Object(m.jsxs)("div",{className:"container-fluid my-3 row",children:[Object(m.jsxs)("div",{className:"container-fluid my-3 row pe-0",children:[Object(m.jsx)("div",{className:"col-2",children:Object(m.jsx)("label",{htmlFor:"nombre",className:"form-label mt-2",children:"Nombre:"})}),Object(m.jsxs)("div",{className:"col-md-10",children:[Object(m.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Ejemplo: Programacion 3",className:"form-control",value:n.nombre,onChange:function(e){var a=e.target.value;r(Object(l.a)(Object(l.a)({},n),{},{nombre:a}))},required:!0}),Object(m.jsx)(A,{errors:f,campo:"nombre"})]})]}),Object(m.jsxs)("div",{className:"container-fluid my-3 row pe-0",children:[Object(m.jsx)("div",{className:"col-lg-2",children:Object(m.jsx)("label",{htmlFor:"descripcion",className:"form-label mt-2",children:"Descripcion:"})}),Object(m.jsxs)("div",{className:"col-lg-10",children:[Object(m.jsx)("textarea",{name:"descripcion",id:"descripcion",rows:"3",className:"form-control",placeholder:"Ingrese aqui la descripcion de la materia",value:n.descripcion,onChange:function(e){var a=e.target.value;r(Object(l.a)(Object(l.a)({},n),{},{descripcion:a}))},required:!0}),Object(m.jsx)(A,{errors:f,campo:"descripcion"})]})]}),Object(m.jsxs)("div",{className:"container-fluid my-3 row pe-0",children:[Object(m.jsx)("div",{className:"col-lg-2",children:Object(m.jsx)("label",{htmlFor:"seccion",className:"form-label mt-2 me-0",children:"Seccion:"})}),Object(m.jsxs)("div",{className:"col-lg-4",children:[Object(m.jsx)("input",{type:"text",id:"seccion",name:"seccion",className:"form-control",placeholder:"Ejemplo: T1",value:n.seccion,onChange:function(e){var a=e.target.value;r(Object(l.a)(Object(l.a)({},n),{},{seccion:a}))},required:!0}),Object(m.jsx)(A,{errors:f,campo:"seccion"})]}),Object(m.jsx)("div",{className:"col-lg-2",children:Object(m.jsx)("label",{htmlFor:"profesor",className:"form-label mt-2",children:"Profesor:"})}),Object(m.jsxs)("div",{className:"col-lg-4",children:[Object(m.jsxs)("select",{name:"profesor",id:"profesor",className:"form-select","aria-label":"Seleccione un profesor",value:n.profesor,onChange:function(e){var a=e.target.value;r(Object(l.a)(Object(l.a)({},n),{},{profesor:a}))},children:[Object(m.jsx)("option",{value:"",children:"-- Seleccione un Profesor --"}),h.map((function(e){return Object(m.jsxs)("option",{value:e._id,children:[e.apellido,", ",e.nombre]},e._id)}))]}),Object(m.jsx)(A,{errors:f,campo:"profesor"})]})]}),Object(m.jsx)("button",{className:"btn btn-warning mx-auto col-md-2 mt-2 mb-1",onClick:function(){e?w(n):g(n)},children:"Enviar Materia"})]})})]})})]})})})),_=function(e){var a=e.archivo,t=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/archivos/descargar/").concat(a.nombre));case 2:200===(t=e.sent).status&&window.open(t.config.url);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{className:"card-text",children:"Archivos de la Actividad:"}),Object(m.jsxs)("div",{className:"card col-lg-3 mb-2",children:[Object(m.jsxs)("h6",{className:"card-header bg-dark text-center text-light",children:[Object(m.jsx)("i",{className:"col bi bi-file-earmark"})," Archivo de Clase"]}),Object(m.jsxs)("button",{className:"col btn btn-warning rounded-0",onClick:t,children:[Object(m.jsx)("i",{className:"col bi bi-download"})," Descargar"]})]})]})},M=function(e){var a=e.archivo,t=Object(u.g)(),c=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/archivos/descargar/").concat(a.nombre));case 2:200===(t=e.sent).status&&window.open(t.config.url);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat("http://localhost:3001","/archivos/borrar/").concat(a._id));case 2:200===e.sent.status&&(alert("Archivo borrado"),t.go(0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{className:"card-text",children:"Archivos de la Actividad:"}),Object(m.jsxs)("div",{className:"card col-lg-3 mb-2",children:[Object(m.jsxs)("h6",{className:"card-header bg-dark text-center text-light",children:[Object(m.jsx)("i",{className:"col bi bi-file-earmark"})," Archivo de Clases"]}),Object(m.jsxs)("button",{className:"col btn btn-warning rounded-0",onClick:c,children:[Object(m.jsx)("i",{className:"col bi bi-download"})," Descargar"]}),Object(m.jsxs)("button",{className:"col btn btn-danger border-0 rounded-0",style:{backgroundColor:"#E24E3A"},onClick:s,children:[Object(m.jsx)("i",{className:"col bi bi-dash-circle"})," Borrar"]})]})]})},F=function(e){var a=e.archivoEntregado,t=Object(u.g)(),c=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/archivos/descargar/").concat(a.nombre));case 2:200===(t=e.sent).status&&window.open(t.config.url);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat("http://localhost:3001","/archivos/borrar/").concat(a._id));case 2:200===e.sent.status&&(alert("Archivo borrado"),t.go(0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"alert alert-warning card-text",children:"\xa1Entregado!"}),Object(m.jsx)("h5",{className:"card-text",children:"Tu Archivo:"}),Object(m.jsx)("div",{className:"col-lg-3 pe-0 my-1",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("h6",{className:"card-header bg-dark text-light text-center",children:[Object(m.jsx)("i",{className:"bi bi-file-earmark"})," Archivo"]}),Object(m.jsxs)("button",{className:"col btn btn-warning rounded-0",onClick:c,children:[Object(m.jsx)("i",{className:"col bi bi-download"})," Descargar"]}),Object(m.jsxs)("button",{className:"col btn btn-danger border-0 rounded-0",style:{backgroundColor:"#E24E3A"},onClick:s,children:[Object(m.jsx)("i",{className:"col bi bi-dash-circle"})," Eliminar"]})]})})]})},P=function(){var e=Object(u.g)(),a=Object(c.useState)(""),t=Object(j.a)(a,2),s=t[0],n=t[1],r=Object(u.h)().idActividad,i=Object(c.useContext)(je).usuario,l=function(){var a=Object(d.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("file",s),a.next=4,N.a.post("".concat("http://localhost:3001","/archivos/subir/").concat(r,"/").concat(i.id),t);case 4:200===a.sent.status&&(alert("Archivo subido"),e.go(0));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"alert alert-danger card-text",children:"\xa1Falta por Entregar! "}),Object(m.jsx)("h5",{className:"card-text",children:"Subir Archivo:"}),Object(m.jsxs)("div",{className:"card col-lg-4 mb-2",children:[Object(m.jsxs)("h6",{className:"card-header bg-dark text-center text-light",children:[Object(m.jsx)("i",{className:"col bi bi-file-earmark"})," Seleccione un Archivo"]}),Object(m.jsx)("form",{action:"",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault()},children:Object(m.jsx)("input",{type:"file",name:"file",id:"file",className:"form-control",onChange:function(e){var a=e.target.files[0];n(a)},accept:".zip"})}),Object(m.jsxs)("button",{className:"col btn btn-warning rounded-0",onClick:l,children:[Object(m.jsx)("i",{className:"col bi bi-upload"})," Subir"]})]})]})};var D=function(e){var a=e.estudiante,t=e.idActividad,s=Object(c.useState)({calificacion:0,actividad:t,estudiante:a._id}),n=Object(j.a)(s,2),r=n[0],i=n[1],b=function(){var e=Object(d.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.put("".concat("http://localhost:3001","/notas/actualizar/"),a);case 3:200===e.sent.status?alert("Alumno calificado!"):alert("Ha ocurrido un error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"",children:[Object(m.jsxs)("button",{type:"button",className:"btn btn-warning border-0 rounded-0","data-bs-toggle":"modal","data-bs-target":"#modal"+a._id,style:{backgroundColor:"#F59B18",width:"100%"},children:[Object(m.jsx)("i",{className:"col bi bi-pen"})," Calificar"]}),Object(m.jsx)("div",{className:"modal fade",id:"modal"+a._id,tabIndex:"-1","aria-labelledby":"Ventana para Calificar","aria-hidden":"true",children:Object(m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsxs)("h5",{className:"modal-title",id:"Calificar",children:["Calificar - ",a.apellido,", ",a.nombre]}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsxs)("label",{htmlFor:"nota",className:"form-label",children:["Nota:"," "]}),Object(m.jsx)("input",{type:"number",name:"nota",id:"nota",placeholder:"1",min:"1",className:"form-control",onChange:function(e){var a=e.target.value;i(Object(l.a)(Object(l.a)({},r),{},{calificacion:a}))},required:!0})]}),Object(m.jsxs)("div",{className:"modal-footer",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"}),Object(m.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){b(r)},children:"Calificar"})]})]})})})]})},B=function(e){var a=e.val,t=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/archivos/descargar/").concat(a.nombre));case 2:200===(t=e.sent).status&&window.open(t.config.url);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"col-lg-4 pe-0 my-1",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("h6",{className:"card-header bg-dark text-light",children:[Object(m.jsx)("i",{className:"bi bi-person"})," ",a.usuario.apellido,","," ",a.usuario.nombre]}),Object(m.jsx)("div",{className:"col",children:Object(m.jsx)(D,{estudiante:a.usuario,idActividad:a.actividad._id})}),Object(m.jsxs)("button",{className:"col btn btn-warning rounded-0",onClick:t,children:[Object(m.jsx)("i",{className:"col bi bi-file-earmark"})," Descargar"]})]})})},I=function(){var e=Object(u.g)(),a=Object(c.useState)(""),t=Object(j.a)(a,2),s=t[0],n=t[1],r=Object(u.h)().idActividad,i=Object(c.useContext)(je).usuario,l=function(){var a=Object(d.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("file",s),a.next=4,N.a.post("".concat("http://localhost:3001","/archivos/subir/").concat(r,"/").concat(i.id),t);case 4:200===a.sent.status&&e.go(0);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{className:"card-text",children:"Subir Archivo:"}),Object(m.jsxs)("div",{className:"card col-lg-4 mb-2",children:[Object(m.jsxs)("h6",{className:"card-header bg-dark text-center text-light",children:[Object(m.jsx)("i",{className:"col bi bi-file-earmark"})," Seleccione un Archivo"]}),Object(m.jsx)("form",{action:"",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault()},children:Object(m.jsx)("input",{type:"file",name:"file",id:"file",className:"form-control",onChange:function(e){var a=e.target.files[0];n(a)},accept:".zip"})}),Object(m.jsxs)("button",{className:"col btn btn-warning rounded-0",onClick:l,children:[Object(m.jsx)("i",{className:"col bi bi-upload"})," Subir"]})]})]})};var U=Object(u.i)((function(){var e=Object(c.useContext)(je).usuario,a=Object(u.g)(),t=Object(u.h)(),s=t.idActividad,n=t.idMateria,r=Object(c.useState)(),i=Object(j.a)(r,2),l=i[0],b=i[1],h=Object(c.useState)([]),x=Object(j.a)(h,2),O=x[0],p=x[1],f=Object(c.useState)(),v=Object(j.a)(f,2),g=v[0],w=v[1],C=Object(c.useState)(""),E=Object(j.a)(C,2),S=E[0],A=E[1],q=Object(c.useState)(),D=Object(j.a)(q,2),U=D[0],z=D[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/materias/").concat(n,"/actividades/").concat(s));case 2:a=e.sent,b(a.data.actividad);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,s]),Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l){e.next=5;break}return e.next=3,N.a.get("".concat("http://localhost:3001","/archivos/").concat(n,"/actividades/").concat(s,"/"));case 3:a=e.sent,p(a.data.archivos);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l,n,s]),Object(c.useEffect)((function(){if(O.length>0){var a=O.find((function(e){return"Profesor"===e.usuario.cargo}));void 0!==a?"Estudiante"===e.cargo||"Administrador"===e.cargo?z(Object(m.jsx)(_,{archivo:a})):"Profesor"===e.cargo&&z(Object(m.jsx)(M,{archivo:a})):"Estudiante"===e.cargo||"Administrador"===e.cargo?z(Object(m.jsx)("p",{className:"card-text",children:"El profesor no ha subido un archivo"})):"Profesor"===e.cargo&&z(Object(m.jsx)(I,{}))}}),[O,e]),Object(c.useEffect)((function(){var t=O.filter((function(e){return"Estudiante"===e.usuario.cargo}));switch(e.cargo){case"Administrador":w(Object(m.jsx)("span",{className:"alert alert-danger card-text",children:"El administrador no puede observar los archivos"}));break;case"Profesor":t.length>0?w(Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"alert alert-warning card-text",children:"A continuacion se muestran los archivos de los alumnos:"}),Object(m.jsx)("div",{className:"row",children:t.map((function(e,a){return Object(m.jsx)(B,{val:e},a)}))})]})):w(Object(m.jsx)("span",{className:"alert alert-danger card-text",children:"Los alumnos no han entregado ningun archivo"})),A(Object(m.jsxs)("div",{className:"card p-2 mt-1",children:[Object(m.jsx)("h4",{className:"fw-bold",children:"Acciones:"}),Object(m.jsxs)("button",{className:"btn btn-warning",onClick:function(){a.push("/materias/".concat(n,"/actividad/crear/").concat(s))},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Editar"]}),Object(m.jsx)(y,{actividad:l,tarjeta:!1})]}));break;case"Estudiante":var c=O.find((function(a){return a.usuario._id===e.id}));w(void 0===c?Object(m.jsx)(P,{}):Object(m.jsx)(F,{archivoEntregado:c}));break;default:w(Object(m.jsx)("p",{className:"card-text",children:"Error, recargue la pagina"}))}}),[e,O,a,s,n,l]),Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col m-3",children:Object(m.jsxs)("div",{className:"card py-3 p shadow-lg",children:[Object(m.jsx)("h3",{className:"fw-bold text-center",children:l&&l.nombre}),Object(m.jsxs)("div",{className:"row m-3",children:[Object(m.jsx)("div",{className:"col-lg-8 my-2",children:Object(m.jsxs)("div",{className:"card p-3",children:[Object(m.jsx)("h4",{className:"fw-bold card-text",children:"Descripcion:"}),Object(m.jsx)("p",{className:"card-text",children:l&&l.descripcion}),U,Object(m.jsx)("h4",{className:"fw-bold card-text",children:"Fecha de Entrega:"}),Object(m.jsx)("p",{className:"card-text",children:l&&l.fechaEntrega.slice(0,10)}),Object(m.jsx)("h4",{className:"fw-bold card-text",children:"Estado:"}),g]})}),Object(m.jsx)("div",{className:"col-lg-4 my-2",children:Object(m.jsxs)("div",{className:"card p-2",children:[Object(m.jsxs)("div",{className:"card p-2",children:[Object(m.jsxs)("h5",{className:"fw-bold card-text",children:[Object(m.jsx)("i",{className:"bi bi-book"})," Materia:"]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-laptop"})," ",l&&l.materia.nombre]}),Object(m.jsxs)("h5",{className:"fw-bold card-text",children:[Object(m.jsx)("i",{className:"bi bi-award"})," Nota:"]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-star"})," ",l&&l.nota]})]}),S]})})]}),Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsx)("a",{className:"link-dark",href:"/materias/".concat(n),children:"Volver"})})]})})]})})}));var z=function(){var e=Object(u.g)(),a=Object(c.useState)(""),t=Object(j.a)(a,2),s=t[0],n=t[1],r=Object(c.useState)(""),i=Object(j.a)(r,2),l=i[0],b=i[1],O=Object(c.useState)(""),p=Object(j.a)(O,2),f=p[0],v=p[1],g=function(){var a=Object(d.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N()({method:"POST",data:{usuario:s,contrasena:l},withCredentials:!0,url:"".concat("http://localhost:3001","/usuarios/login")});case 2:200===(t=a.sent).status?(localStorage.setItem("accessToken",t.data),e.push("/inicio")):v(Object(m.jsx)("div",{className:"alert alert-warning",children:t.data.error}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(h,{login:"true"}),Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsxs)("div",{className:"card p-5 m-5 mx-auto w-50",children:[Object(m.jsx)("h1",{className:"display-5 fw-bold col-md-12",children:"Iniciar Sesion"}),Object(m.jsxs)("div",{className:"container-fluid mb-3",children:[Object(m.jsx)("label",{htmlFor:"usuario",className:"form-label",children:"Usuario:"}),Object(m.jsx)("input",{type:"text",name:"usuario",id:"usuario",className:"form-control",onChange:function(e){var a=e.target.value;n(a)}})]}),Object(m.jsxs)("div",{className:"container-fluid mb-3",children:[Object(m.jsx)("label",{htmlFor:"contrasena",className:"form-label",children:"Contrase\xf1a:"}),Object(m.jsx)("input",{type:"password",name:"contrasena",id:"contrasena",className:"form-control",onChange:function(e){var a=e.target.value;b(a)}})]}),f,Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("button",{className:"btn btn-warning mx-auto col-md-6",onClick:g,children:"Login"})}),Object(m.jsx)("div",{className:"container-fluid mt-3",children:Object(m.jsxs)("span",{className:"col-md-12",children:["\xbfAun no te has registrado?\xa0",Object(m.jsx)("a",{className:"link-warning",href:"/registro",children:"\xa1Haz Click Aqui!"})]})})]})}),Object(m.jsx)(x,{})]})};var T=function(e){var a=e.usuario,t=e.tabla,s=Object(u.g)(),n=Object(c.useState)(""),r=Object(j.a)(n,2),i=r[0],l=r[1],b=function(){l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Ha ocurrido un error, intente nuevamente"})}),Object(m.jsx)("button",{className:"btn btn-warning",type:"button","data-bs-dismiss":"modal",onClick:function(){s.push("/usuarios")},children:"Cerrar"})]}))},h=function(e){l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("strong",{children:"No se pudo eliminar al usuario"}),Object(m.jsx)("p",{children:"Para poder eliminar este usuario, por favor asigne otro profesor a las siguientes materias:"}),Object(m.jsx)("ul",{children:e.data.resultados.map((function(e,a){return Object(m.jsx)("li",{children:e.nombre},a)}))}),Object(m.jsx)("button",{className:"btn btn-warning",type:"button","data-bs-dismiss":"modal",children:"Cerrar"})]}))},x=function(){var e="";l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Confirme su accion"})}),Object(m.jsxs)("p",{children:["Para confirmar la accion de borrar el usuario, por favor ingrese la cedula (",Object(m.jsx)("strong",{children:a.cedula}),") del usuario:"]}),Object(m.jsx)("input",{type:"text",name:"confirmarCedula",id:"confirmarCedula",className:"form-control",placeholder:"Ingrese la cedula del usuario",onChange:function(a){var t=a.target.value;e=t}}),Object(m.jsxs)("button",{className:"btn btn-danger mt-2",onClick:function(){O(parseInt(e),a.cedula,a._id)},children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Confirmar"]}),Object(m.jsxs)("button",{className:"btn btn-warning ms-1 mt-2",type:"button","data-bs-dismiss":"modal",children:[Object(m.jsx)("i",{className:"bi bi-x-circle"})," Cancelar"]})]}))},O=function(){var e=Object(d.a)(o.a.mark((function e(a,t,c){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==t){e.next=18;break}return e.next=3,N.a.get("".concat("http://localhost:3001","/usuarios/borrar/").concat(c));case 3:if(200!==(n=e.sent).status){e.next=15;break}if("No posee materias"!==n.data.mensaje){e.next=12;break}return e.next=8,N.a.delete("".concat("http://localhost:3001","/usuarios/borrar/").concat(c));case 8:r=e.sent,l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:r.data.mensaje})}),Object(m.jsx)("button",{className:"btn btn-warning",type:"button","data-bs-dismiss":"modal",onClick:function(){s.push("/usuarios")},children:"Cerrar"})]})),e.next=13;break;case 12:"Materias encontradas"===n.data.mensaje?h(n):b();case 13:e.next=16;break;case 15:b();case 16:e.next=19;break;case 18:alert("Cedula invalida");case 19:case"end":return e.stop()}}),e)})));return function(a,t,c){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"text-dark",children:[Object(m.jsxs)("button",{type:"button",className:"btn btn-danger "+(t?"rounded-0":"w-100 mt-1"),"data-bs-toggle":"modal","data-bs-target":"#modalBorrar",onClick:function(){l(Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"\xa1Atencion!"})}),Object(m.jsxs)("p",{children:["Estas a punto de borrar al usuario:"," ",Object(m.jsx)("strong",{children:a.usuario}),", esta accion es permanente y hara que todos los archivos y notas de este usuario sean eliminadas del sistema."]}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"\xbfEstas seguro que quieres continuar?"})}),Object(m.jsxs)("button",{className:"btn btn-danger",onClick:x,children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Borrar"]}),Object(m.jsxs)("button",{className:"btn btn-warning ms-1",type:"button","data-bs-dismiss":"modal",children:[Object(m.jsx)("i",{className:"bi bi-x-circle"})," Cancelar"]})]}))},children:[Object(m.jsx)("i",{className:"bi bi-dash-circle"})," Borrar"]}),Object(m.jsx)("div",{className:"modal fade",id:"modalBorrar","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"Ventana para Borrar","aria-hidden":"true",children:Object(m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h5",{className:"modal-title",id:"Calificar",children:"Borrar usuario"}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),i]})})})]})},H=function(e){var a=e.usuarios,t=e.cargando,c=Object(u.g)();return t?Object(m.jsxs)("div",{className:"d-flex row justify-content-center my-3",children:[Object(m.jsx)("div",{className:"spinner-border text-warning",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Cargando..."})}),Object(m.jsx)("strong",{className:"text-center text-warning",children:"Cargando..."})]}):Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsxs)("table",{className:"table table-dark table-striped table-hover table-bordered table-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"Cedula"}),Object(m.jsx)("th",{scope:"col",children:"Nombre"}),Object(m.jsx)("th",{scope:"col",children:"Apellido"}),Object(m.jsx)("th",{scope:"col",children:"Cargo"}),Object(m.jsx)("th",{scope:"col",children:"Correo"}),Object(m.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(m.jsx)("tbody",{children:a.map((function(e,a){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:e.cedula.toString()}),Object(m.jsx)("td",{children:e.nombre}),Object(m.jsx)("td",{children:e.apellido}),Object(m.jsx)("td",{children:e.cargo}),Object(m.jsx)("td",{children:e.correo}),Object(m.jsx)("td",{className:"p-0",children:Object(m.jsxs)("div",{className:"btn-group w-100",role:"group","aria-label":"Basic example",children:[Object(m.jsxs)("button",{type:"button",className:"btn btn-warning rounded-0",onClick:function(){c.push("/usuarios/".concat(e._id))},children:[Object(m.jsx)("i",{className:"bi bi-person"})," Detalles"]}),Object(m.jsxs)("button",{type:"button",className:"btn btn-warning border-0",style:{backgroundColor:"#F59B18"},onClick:function(){c.push("/usuarios/crear/".concat(e._id))},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Actualizar"]}),Object(m.jsx)(T,{usuario:e,tabla:!0})]})})]},a)}))})]})})},L=function(e){for(var a=e.usuariosPorPaginas,t=e.usuariosTotal,c=e.paginacion,s=e.paginaActual,n=[],r=1;r<=Math.ceil(t/a);r++)n.push(r);return Object(m.jsxs)("nav",{className:"pagination justify-content-center",children:[Object(m.jsx)("li",{className:"page-item",children:Object(m.jsx)("button",{onClick:function(){c(1)},className:"page-link","aria-label":"primero",children:"\xab"})}),Object(m.jsx)("li",{className:"page-item",children:Object(m.jsx)("button",{onClick:function(){c(1!==s?s-1:1)},className:"page-link",children:"Anterior"})}),Object(m.jsx)("li",{className:"page-item",children:Object(m.jsx)("button",{className:"page-link",children:s})}),Object(m.jsx)("li",{className:"page-item",children:Object(m.jsx)("button",{onClick:function(){var e;e=s!==n.length?s+1:n.length,c(e)},className:"page-link",children:"Siguiente"})}),Object(m.jsx)("li",{className:"page-item",children:Object(m.jsx)("button",{onClick:function(){c(n.length)},className:"page-link","aria-label":"ultimo",children:"\xbb"})})]})},G=function(e){var a=e.paginas;return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("label",{className:"",children:"Usuarios por Pagina: "}),Object(m.jsx)("label",{htmlFor:"",children:Object(m.jsxs)("select",{name:"paginas",id:"paginas",className:"form-select ms-1",onChange:function(e){var t=e.target.value;a(t)},children:[Object(m.jsx)("option",{value:"10",children:"10"}),Object(m.jsx)("option",{value:"25",children:"25"}),Object(m.jsx)("option",{value:"50",children:"50"})]})})]})};var V=function(){var e=Object(c.useState)([]),a=Object(j.a)(e,2),t=a[0],s=a[1],n=Object(c.useState)(!1),r=Object(j.a)(n,2),i=r[0],l=r[1],b=Object(c.useState)(1),u=Object(j.a)(b,2),h=u[0],x=u[1],O=Object(c.useState)(10),p=Object(j.a)(O,2),f=p[0],v=p[1],g=Object(c.useState)(""),w=Object(j.a)(g,2),C=w[0],y=w[1],E=Object(c.useState)([]),S=Object(j.a)(E,2),A=S[0],q=S[1],_=Object(c.useState)(0),M=Object(j.a)(_,2),F=M[0],P=M[1],D=h*f,B=D-f;return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,N.a.get("".concat("http://localhost:3001","/usuarios/"));case 3:a=e.sent,s(a.data),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){if(""!==C){var e=t.filter((function(e){return!!e.cedula.toString().includes(C)}));q(e.slice(B,D)),P(e.length)}else q(t.slice(B,D)),P(t.length)}),[t,B,D,C]),Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsxs)("div",{className:"col m-3",children:[Object(m.jsx)("h1",{className:"display-2",children:"Lista de Usuarios"}),Object(m.jsx)("p",{className:"lead",children:"Aqui puede observar una lista de todos los usuarios registrados."}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsxs)("div",{className:"row mb-1",children:[Object(m.jsx)("div",{className:"col-lg-4 col-sm-4",children:Object(m.jsx)(G,{paginas:function(e){return v(e)}})}),Object(m.jsxs)("div",{className:"col-lg-8 d-flex justify-content-end row",children:[Object(m.jsx)("div",{className:"col-lg-3 d-flex justify-content-end",children:Object(m.jsx)("label",{htmlFor:"buscar",className:"form-label mt-2",children:"Buscar Cedula:"})}),Object(m.jsx)("div",{className:"col-lg-4 pe-0",children:Object(m.jsx)("input",{type:"text",id:"buscar",name:"buscar",placeholder:"Ejemplo: 25416008",className:"form-control",value:C,onChange:function(e){var a=e.target.value;y(a),x(1)},required:!0})})]})]}),Object(m.jsx)(H,{usuarios:A,cargando:i}),Object(m.jsx)(L,{usuariosPorPaginas:f,usuariosTotal:F,paginacion:function(e){return x(e)},paginaActual:h})]})]})]})})};var R=function(){var e=Object(u.h)().id,a=Object(u.g)(),t=Object(c.useContext)(je).usuario,s=Object(c.useState)(""),n=Object(j.a)(s,2),r=n[0],i=n[1],l=Object(c.useState)(""),b=Object(j.a)(l,2),h=b[0],x=b[1],O=Object(c.useState)(""),p=Object(j.a)(O,2),f=p[0],v=p[1];return Object(c.useEffect)((function(){(function(){var a=Object(d.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N.a.get("".concat("http://localhost:3001","/usuarios/").concat(e));case 2:200===(t=a.sent).status?i(t.data.usuario):console.log(t);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[e]),Object(c.useEffect)((function(){t.id===r._id&&x(Object(m.jsxs)("div",{className:"card px-3 py-2 mt-1",children:[Object(m.jsx)("h4",{className:"fw-bold",children:"Acciones:"}),Object(m.jsxs)("button",{className:"btn btn-warning",onClick:function(){a.push("/usuario/crear/".concat(r._id))},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Editar Detalles"]}),Object(m.jsxs)("button",{className:"btn btn-warning mt-1",onClick:function(){a.push("/usuario/cambiarcontrasena/")},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Cambiar Contrase\xf1a"]})]}))}),[t,r]),Object(c.useEffect)((function(){"Administrador"===t.cargo&&v(Object(m.jsxs)("div",{className:"card px-3 py-2 mt-1",children:[Object(m.jsx)("h4",{className:"fw-bold",children:"Acciones:"}),Object(m.jsxs)("button",{className:"btn btn-warning",onClick:function(){a.push("/usuario/crear/".concat(r._id))},children:[Object(m.jsx)("i",{className:"bi bi-pencil"})," Editar"]}),Object(m.jsx)(T,{usuario:r,tabla:!1})]}))}),[t,r]),Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col m-3",children:Object(m.jsxs)("div",{className:"card py-3 shadow-lg",children:[Object(m.jsx)("h3",{className:"fw-bold col-md-12 text-center",children:"Detalles del Usuario"}),Object(m.jsxs)("div",{className:"row m-3",children:[Object(m.jsx)("div",{className:"col-lg-8 my-2",children:Object(m.jsxs)("div",{className:"card p-4",children:[Object(m.jsx)("h4",{className:"fw-bold card-text",children:"Detalles Personales:"}),Object(m.jsxs)("div",{className:"py-2",children:[Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-person"})," ",Object(m.jsx)("strong",{children:"Nombre Completo:"})," ",r&&r.nombre," ",r&&r.apellido]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-card-text"})," ",Object(m.jsx)("strong",{children:"Cedula:"})," ",r&&r.cedula]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-calendar3"})," ",Object(m.jsx)("strong",{children:"Fecha de Nacimiento:"})," ",r&&r.fechaNac.slice(0,10)]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-telephone"})," ",Object(m.jsx)("strong",{children:"Telefono:"})," ",r&&r.telefono]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-envelope"})," ",Object(m.jsx)("strong",{children:"Correo:"})," ",r&&r.correo]})]})]})}),Object(m.jsx)("div",{className:"col-lg-4 my-2",children:Object(m.jsxs)("div",{className:"card p-2",children:[Object(m.jsxs)("div",{className:"card p-2",children:[Object(m.jsx)("h4",{className:"fw-bold",children:"Detalles de Usuario:"}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsx)("i",{className:"bi bi-person-badge"})," ",Object(m.jsx)("strong",{children:"Nombre de Usuario:"})," ",r&&r.usuario]}),Object(m.jsxs)("p",{className:"card-text",children:[Object(m.jsxs)("strong",{children:[Object(m.jsx)("i",{className:"bi bi-person-circle"})," Cargo:"]})," ",r&&r.cargo]})]}),h,f]})})]})]})})]})})};var Y=function(e){e.stuff;var a=Object(c.useContext)(je).usuario;return console.log(a),Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{}),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"card p-5 m-5 mx-auto",children:[Object(m.jsx)("h3",{children:"Contactenos"}),Object(m.jsxs)("div",{className:"mt-3",children:[Object(m.jsx)("p",{children:"Creado por: Luis Daniel Cova"}),Object(m.jsx)("p",{children:"Numero de Telefono: 0416-9861942"}),Object(m.jsx)("p",{children:"Correo Electronico: ldcn96@gmail.com"})]})]})}),Object(m.jsx)(x,{})]})},J=function(e){var a=e.notas,t=a[0].estudiante.nombre;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t}),a.map((function(e,a){return Object(m.jsx)("td",{children:e.calificacion},a)})),Object(m.jsx)("td",{children:Object.values(a).reduce((function(e,a){return e+a.calificacion}),0)})]})},W=function(e){var a=e.notas,t=a[0].actividad.materia.nombre,s=Object(c.useState)(a.map((function(e){return e.estudiante.nombre}))),n=Object(j.a)(s,1)[0],r=a.map((function(e){return e.actividad.nombre})),i=Object(c.useState)([]),o=Object(j.a)(i,2),l=o[0],d=o[1],b=Object(c.useState)(new Set(Object(f.a)(r))),u=Object(j.a)(b,1)[0],h=Object(c.useState)(""),x=Object(j.a)(h,2),O=x[0],p=x[1],v=Object(c.useState)(""),N=Object(j.a)(v,2),g=N[0],w=N[1];return Object(c.useEffect)((function(){var e=new Set(Object(f.a)(n));e.size>0&&e.forEach((function(e){d((function(t){return[].concat(Object(f.a)(t),[a.filter((function(a){return a.estudiante.nombre===e}))])}))}))}),[a,n]),Object(c.useEffect)((function(){l.length>0&&l.map((function(e,a){return p((function(t){return[].concat(Object(f.a)(t),[Object(m.jsx)(J,{notas:e},a)])}))}))}),[l]),Object(c.useEffect)((function(){u.size>0&&u.forEach((function(e,a){w((function(t){return[].concat(Object(f.a)(t),[Object(m.jsx)("th",{children:e},a)])}))}))}),[u]),Object(m.jsxs)("div",{className:"table-responsive",children:[Object(m.jsx)("h4",{children:t}),Object(m.jsxs)("table",{className:"table table-dark table-striped table-hover table-bordered table-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Alumnos / Actividades"}),g&&g.map((function(e){return e})),Object(m.jsx)("th",{children:"Total"})]})}),Object(m.jsx)("tbody",{children:O&&O.map((function(e){return e}))})]})]})};var K=function(e){var a=e.notas,t=Object(c.useState)([]),s=Object(j.a)(t,2),n=s[0],r=s[1],i=Object(c.useState)([]),o=Object(j.a)(i,2),l=o[0],d=o[1],b=Object(c.useState)([]),u=Object(j.a)(b,2),h=u[0],x=u[1],O=Object(c.useState)([]),p=Object(j.a)(O,2),v=p[0],N=p[1],g=function(e,a){var t=e.actividad.materia.nombre.toUpperCase(),c=a.actividad.materia.nombre.toUpperCase();return t>c?1:t<c?-1:0};return Object(c.useEffect)((function(){r(a.sort(g))}),[a]),Object(c.useEffect)((function(){var e=n.map((function(e){return e.actividad.materia.nombre}));x(new Set(Object(f.a)(e)))}),[n]),Object(c.useEffect)((function(){h.size>0&&h.forEach((function(e){N((function(a){return[].concat(Object(f.a)(a),[n.filter((function(a){return a.actividad.materia.nombre===e}))])}))}))}),[n,h]),Object(c.useEffect)((function(){void 0!==v&&v.map((function(e,a){return d((function(t){return[].concat(Object(f.a)(t),[Object(m.jsx)(W,{notas:e},a)])}))}))}),[v]),Object(m.jsx)("div",{children:l})};var Q=function(){var e=Object(c.useContext)(je).usuario,a=Object(c.useState)([]),t=Object(j.a)(a,2),s=t[0],n=t[1],r=Object(c.useState)(""),i=Object(j.a)(r,2),l=i[0],b=i[1],u=Object(c.useState)(""),h=Object(j.a)(u,2),x=h[0],O=h[1];return Object(c.useEffect)((function(){(function(){var a=Object(d.a)(o.a.mark((function a(){var t,c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("Administrador"!==e.cargo){a.next=5;break}return a.next=3,N.a.get("".concat("http://localhost:3001","/notas/"));case 3:t=a.sent,n(t.data.lista_notas);case 5:if("Profesor"!==e.cargo){a.next=12;break}return a.next=8,N.a.get("".concat("http://localhost:3001","/notas/profesor/").concat(e.id));case 8:c=a.sent,n(c.data.lista_notas),a.next=17;break;case 12:if("Estudiante"!==e.cargo){a.next=17;break}return a.next=15,N.a.get("".concat("http://localhost:3001","/notas/estudiante/").concat(e.id));case 15:s=a.sent,n(s.data.lista_notas);case 17:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[e]),Object(c.useEffect)((function(){switch(e.cargo){case"Administrador":b(Object(m.jsx)("h1",{className:"display-2",children:"Notas"})),O(Object(m.jsx)("p",{className:"lead",children:"Aqui podras ver las notas de todos los estudiantes"}));break;case"Profesor":b(Object(m.jsx)("h1",{className:"display-2",children:"Notas"})),O(Object(m.jsx)("p",{className:"lead",children:"Aqui podras ver todas las notas de cada uno de los alumnos de las materias de las cuales eres profesor."}));break;case"Estudiante":b(Object(m.jsx)("h1",{className:"display-2",children:"Notas"})),O(Object(m.jsx)("p",{className:"lead",children:"Aqui podras ver las notas de todas tus materias"}))}}),[e]),Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsxs)("div",{className:"col m-3",children:[l,x,Object(m.jsx)("div",{children:Object(m.jsx)(K,{notas:s})})]})]})})};var X=Object(u.i)((function(){var e=Object(c.useContext)(je).usuario,a=Object(u.g)(),t=Object(u.h)(),s=t.idMateria,n=t.id,r=Object(c.useState)({nombre:"",descripcion:"",fechaEntrega:"",nota:0}),i=Object(j.a)(r,2),b=i[0],h=i[1],x=Object(c.useState)(),O=Object(j.a)(x,2),p=O[0],f=O[1],v=Object(c.useState)([]),g=Object(j.a)(v,2),w=g[0],C=g[1];Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,N.a.get("".concat("http://localhost:3001","/materias/").concat(s,"/actividad/crear/").concat(n));case 3:a=e.sent,h(a.data.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,s]);var y=function(){var t=Object(d.a)(o.a.mark((function t(c,n){var r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=new FormData).append("nombre",c.nombre),r.append("descripcion",c.descripcion),r.append("fechaEntrega",c.fechaEntrega),r.append("nota",c.nota),r.append("file",n),t.next=9,N.a.post("".concat("http://localhost:3001","/materias/").concat(s,"/actividad/crear/").concat(e.id),r);case 9:200===(i=t.sent).status?(alert("Actividad Agregada"),a.push("/materias/".concat(s,"/"))):C(i.data.errors.errors),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.put("".concat("http://localhost:3001","/materias/").concat(s,"/actividad/crear/").concat(n),t);case 3:200===(c=e.sent).status?(alert("Actividad Editada"),a.push("/materias/".concat(s,"/"))):C(c.data.errors.errors),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col mx-3 py-3 px-3 my-auto",children:Object(m.jsxs)("div",{className:"card py-3 shadow-lg",children:[Object(m.jsx)("h3",{className:"fw-bold col-md-12 text-center",children:"Agregar una Actividad"}),Object(m.jsx)("form",{action:"",onSubmit:function(e){e.preventDefault()},children:Object(m.jsxs)("div",{className:"container-fluid my-3 row",children:[Object(m.jsxs)("div",{className:"container-fluid my-3 row pe-0",children:[Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("label",{htmlFor:"nombre",className:"form-label mt-2",children:"Nombre:"})}),Object(m.jsxs)("div",{className:"col-md-10",children:[Object(m.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Ejemplo: Arreglos - Parte 1",className:"form-control",onChange:function(e){var a=e.target.value;h(Object(l.a)(Object(l.a)({},b),{},{nombre:a}))},value:b.nombre,required:!0}),Object(m.jsx)(A,{errors:w,campo:"nombre"})]})]}),Object(m.jsxs)("div",{className:"container-fluid my-3 row pe-0",children:[Object(m.jsx)("div",{className:"col-lg-2",children:Object(m.jsx)("label",{htmlFor:"descripcion",className:"form-label mt-2",children:"Descripcion:"})}),Object(m.jsxs)("div",{className:"col-lg-10",children:[Object(m.jsx)("textarea",{name:"descripcion",id:"descripcion",rows:"3",className:"form-control",placeholder:"Ingrese aqui la descripcion de la actividad",onChange:function(e){var a=e.target.value;h(Object(l.a)(Object(l.a)({},b),{},{descripcion:a}))},value:b.descripcion,required:!0}),Object(m.jsx)(A,{errors:w,campo:"descripcion"})]})]}),Object(m.jsxs)("div",{className:"container-fluid my-3 row pe-0",children:[Object(m.jsx)("div",{className:"col-lg-2",children:Object(m.jsx)("label",{htmlFor:"nota",className:"form-label mt-2 me-0",children:"Nota:"})}),Object(m.jsxs)("div",{className:"col-lg-4",children:[Object(m.jsx)("input",{type:"number",id:"nota",name:"nota",className:"form-control",placeholder:"Ingrese una nota",min:"1",onChange:function(e){var a=e.target.value;h(Object(l.a)(Object(l.a)({},b),{},{nota:a}))},value:b.nota,required:!0}),Object(m.jsx)(A,{errors:w,campo:"nota"})]}),Object(m.jsx)("div",{className:"col-lg-2",children:Object(m.jsx)("label",{htmlFor:"fechaEntrega",className:"form-label mt-2",children:"Fecha de Entrega:"})}),Object(m.jsxs)("div",{className:"col-lg-4",children:[Object(m.jsx)("input",{type:"date",name:"fechaEntrega",id:"fechaEntrega",className:"form-control",onChange:function(e){var a=e.target.value;h(Object(l.a)(Object(l.a)({},b),{},{fechaEntrega:a}))},value:b.fechaEntrega}),Object(m.jsx)(A,{errors:w,campo:"fechaEntrega"})]}),!n&&Object(m.jsxs)("div",{className:"container-fluid mt-5 row pe-0",children:[Object(m.jsx)("div",{className:"col-lg-5",children:Object(m.jsx)("label",{htmlFor:"formFile",className:"form-label mt-2",children:"(Opcional) Seleccione un archivo:"})}),Object(m.jsx)("div",{className:"col-lg-7 pe-0",children:Object(m.jsx)("input",{className:"form-control",type:"file",id:"formFile",onChange:function(e){var a=e.target.files[0];f(a)},value:p,accept:".zip",multiple:!0})})]})]}),Object(m.jsx)("button",{className:"btn btn-warning mx-auto col-md-2 mt-2 mb-1",onClick:function(){n?E(b):y(b,p)},children:"Enviar"})]})}),Object(m.jsx)("div",{className:"container-fluid row",children:Object(m.jsx)("a",{className:"link-dark mx-auto text-center",href:"/materias/".concat(s),children:"Volver"})})]})})]})})}));var Z=function(){var e=Object(u.g)(),a=Object(c.useContext)(je).usuario,t=Object(u.h)().id,s=Object(c.useState)([]),n=Object(j.a)(s,2),r=n[0],i=n[1],b=Object(c.useState)(""),h=Object(j.a)(b,2),x=h[0],O=h[1],p=Object(c.useState)({cedula:"",nombre:"",apellido:"",fechaNac:"",telefono:"",correo:"",usuario:"",contrasena:"",cargo:"Estudiante"}),f=Object(j.a)(p,2),v=f[0],g=f[1];Object(c.useEffect)((function(){"Administrador"===a.cargo&&void 0===t&&O(Object(m.jsxs)("div",{className:"container-fluid ps-0 my-3 row",children:[Object(m.jsx)("div",{className:"col-lg-1",children:Object(m.jsx)("label",{htmlFor:"correo",className:"form-label mt-2",children:"Cargo:"})}),Object(m.jsxs)("div",{className:"col-md-5",children:[Object(m.jsxs)("select",{name:"cargo",id:"cargo",className:"form-control",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{cargo:a}))},children:[Object(m.jsx)("option",{value:"",children:"-- Seleccione un Cargo --"}),Object(m.jsx)("option",{value:"Profesor",children:"Profesor"}),Object(m.jsx)("option",{value:"Estudiante",children:"Estudiante"})]}),Object(m.jsx)(A,{errors:r,campo:"correo"})]})]}))}),[a,r,v,t]),Object(c.useEffect)((function(){void 0!==t&&function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/usuarios/actualizar/").concat(t));case 2:a=e.sent,g(Object(l.a)(Object(l.a)({},a.data.results),{},{contrasena:""}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var w=function(){var a=Object(d.a)(o.a.mark((function a(t){var c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.post("".concat("http://localhost:3001","/usuarios/crear"),t);case 3:200===(c=a.sent).status?(alert(c.data.msg),e.push("/login/")):i(c.data.errors_array.errors),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),alert("Ha ocurrido un error, intente nuevamente en unos minutos");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),k=function(){var a=Object(d.a)(o.a.mark((function a(c){var s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.put("".concat("http://localhost:3001","/usuarios/actualizar/").concat(t),c);case 3:200===(s=a.sent).status?(alert("Actualizacion Exitosa!"),e.push("/usuarios/".concat(t))):i(s.data.errors_array.errors),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),alert("Ha ocurrido un error, intente nuevamente en unos minutos");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"m-3",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"card p-5 m-5 mx-auto shadow-lg",children:[Object(m.jsx)("h3",{className:"fw-bold col-md-12",children:"Registro de Usuario"}),Object(m.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault()},children:[Object(m.jsxs)("div",{className:"container-fluid ps-0 my-3 row",children:[Object(m.jsx)("div",{className:"col-lg-1",children:Object(m.jsx)("label",{htmlFor:"cedula",className:"form-label mt-2",children:"Cedula:"})}),Object(m.jsxs)("div",{className:"col-lg-11",children:[Object(m.jsx)("input",{type:"text",id:"cedula",name:"cedula",placeholder:"Ejemplo: 25416008",className:"form-control",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{cedula:a}))},value:v.cedula,required:!0}),Object(m.jsx)(A,{errors:r,campo:"cedula"})]})]}),Object(m.jsxs)("div",{className:"container-fluid ps-0 my-3 row",children:[Object(m.jsx)("div",{className:"col-xl-1",children:Object(m.jsx)("label",{htmlFor:"nombre",className:"form-label mt-2",children:"Nombre:"})}),Object(m.jsxs)("div",{className:"col-lg-5",children:[Object(m.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Ejemplo: Luis",className:"form-control",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{nombre:a}))},value:v.nombre,required:!0}),Object(m.jsx)(A,{errors:r,campo:"nombre"})]}),Object(m.jsx)("div",{className:"col-lg-1",children:Object(m.jsx)("label",{htmlFor:"apellido",className:"form-label mt-2",children:"Apellido:"})}),Object(m.jsxs)("div",{className:"col-lg-5",children:[Object(m.jsx)("input",{type:"text",id:"apellido",name:"apellido",placeholder:"Ejemplo: Cova",className:"form-control",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{apellido:a}))},value:v.apellido,required:!0}),Object(m.jsx)(A,{errors:r,campo:"apellido"})]})]}),Object(m.jsxs)("div",{className:"container-fluid ps-0 my-3 row",children:[Object(m.jsx)("div",{className:"col-lg-3",children:Object(m.jsx)("label",{htmlFor:"fechaNac",className:"form-label mt-2 me-0",children:"Fecha de Nacimiento:"})}),Object(m.jsxs)("div",{className:"col-lg-3",children:[Object(m.jsx)("input",{type:"date",id:"fechaNac",name:"fechaNac",className:"form-control",value:v.fechaNac.slice(0,10),onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{fechaNac:a}))},required:!0}),Object(m.jsx)(A,{errors:r,campo:"fechaNac"})]}),Object(m.jsx)("div",{className:"col-lg-1",children:Object(m.jsx)("label",{htmlFor:"telefono",className:"form-label mt-2",children:"Telefono:"})}),Object(m.jsxs)("div",{className:"col-lg-5",children:[Object(m.jsx)("input",{type:"text",id:"telefono",name:"telefono",placeholder:"Ejemplo: 04169861942",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{telefono:a}))},value:v.telefono,className:"form-control"}),Object(m.jsx)(A,{errors:r,campo:"telefono"})]})]}),Object(m.jsxs)("div",{className:"container-fluid ps-0 my-3 row",children:[Object(m.jsx)("div",{className:"col-lg-1",children:Object(m.jsx)("label",{htmlFor:"correo",className:"form-label mt-2",children:"Correo:"})}),Object(m.jsxs)("div",{className:"col-md-11",children:[Object(m.jsx)("input",{type:"email",id:"correo",name:"correo",placeholder:"Ejemplo: ldcn96@gmail.com",className:"form-control",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{correo:a}))},value:v.correo,required:!0}),Object(m.jsx)(A,{errors:r,campo:"correo"})]})]}),!t&&Object(m.jsxs)("div",{className:"container-fluid ps-0 my-3 row",children:[Object(m.jsx)("div",{className:"col-lg-1",children:Object(m.jsx)("label",{htmlFor:"usuario",className:"form-label mt-2",children:"Usuario:"})}),Object(m.jsxs)("div",{className:"col-lg-5",children:[Object(m.jsx)("input",{type:"text",id:"usuario",name:"usuario",placeholder:"Ejemplo: LuisCova",className:"form-control",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{usuario:a}))},value:v.usuario,required:!0}),Object(m.jsx)(A,{errors:r,campo:"usuario"})]}),Object(m.jsx)("div",{className:"col-lg-2",children:Object(m.jsx)("label",{htmlFor:"contrasena",className:"form-label mt-2",children:"Contrase\xf1a:"})}),Object(m.jsxs)("div",{className:"col-lg-4",children:[Object(m.jsx)("input",{type:"password",id:"contrasena",name:"contrasena",placeholder:"8 caracteres minimo",className:"form-control",onChange:function(e){var a=e.target.value;g(Object(l.a)(Object(l.a)({},v),{},{contrasena:a}))},value:v.contrasena,required:!0}),Object(m.jsx)(A,{errors:r,campo:"contrasena"})]})]}),x,Object(m.jsx)("button",{className:"btn btn-warning",onClick:function(){t?k(v):w(v)},children:"Registrarse"})]})]})})})};var $=function(){return Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col py-3",children:Object(m.jsx)(Z,{})})]})})};var ee=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{}),Object(m.jsx)(Z,{}),Object(m.jsx)(x,{})]})};var ae=function(){var e=Object(c.useState)(""),a=Object(j.a)(e,2),t=a[0],s=a[1],n=Object(c.useState)(""),r=Object(j.a)(n,2),i=r[0],l=r[1],b=function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:3001","/usuarios/auth/pedir_contrasena"),{usuario:t});case 2:200===(a=e.sent).status?l(Object(m.jsx)("div",{className:"alert alert-warning",children:a.data.mensaje})):206===a.status&&l(Object(m.jsx)("div",{className:"alert alert-danger",children:a.data.mensaje}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(h,{}),Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsxs)("div",{className:"card p-5 m-5 mx-auto",style:{width:"60%"},children:[Object(m.jsx)("h1",{className:"display-5 fw-bold col-md-12",children:"Recuperar Contrase\xf1a"}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"container-fluid mb-3",children:[Object(m.jsx)("label",{htmlFor:"usuario",className:"form-label",children:"Ingrese su nombre de Usuario:"}),Object(m.jsx)("input",{type:"text",name:"usuario",id:"usuario",className:"form-control w-50 mx-auto",onChange:function(e){var a=e.target.value;s(a)},value:t})]}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"card-text",children:"Se enviara un correo electronico al correo que tiene asociado a su cuenta"})})]}),i,Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("button",{className:"btn btn-warning mx-auto mt-2 col-md-8",onClick:b,children:"Recuperar Contrase\xf1a"})})]})}),Object(m.jsx)(x,{})]})};var te=Object(u.i)((function(){return Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col py-3",children:Object(m.jsx)("div",{className:"col-xxl-8 px-5 py-4 my-5 shadow-lg",children:Object(m.jsxs)("div",{className:"row flex-lg-row-reverse align-items-center g-5 py-5",children:[Object(m.jsx)("div",{className:"col-10 col-sm-8 col-lg-6",children:Object(m.jsx)("img",{src:"https://images.unsplash.com/photo-1548174753-897b449b097e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80",alt:"",className:"d-block mx-lg-auto img-fluid rounded-3"})}),Object(m.jsxs)("div",{className:"col-lg-6",children:[Object(m.jsx)("h1",{className:"display-5 fw-bold lh-1 mb-3",children:"Bienvenido al Laboratorio Virtual"}),Object(m.jsx)("p",{className:"lead",children:"Aqui podras realizar las actividades de programacion de la universidad desde la comodidad de tu casa."}),Object(m.jsx)("p",{className:"lead",children:"Utiliza la barra de navegacion al lado izquierdo de la pagina para acceder a las diferentes funciones que les ofrecemos."})]})]})})})]})})})),ce=t(38);var se=function(e){var a=e.cargo,t=e.component,s=Object(ce.a)(e,["cargo","component"]),n=Object(c.useContext)(je).usuario,r=Object(c.useState)(""),i=Object(j.a)(r,2),o=i[0],d=i[1];return Object(c.useEffect)((function(){void 0!==n.status&&d(Object(m.jsx)(u.b,Object(l.a)(Object(l.a)({},s),{},{render:function(e){return"Ninguno"===a?n.status?Object(m.jsx)(u.a,{to:{pathname:"inicio",state:{from:e.location}}}):Object(m.jsx)(t,{}):"Cualquiera"!==a?n.status&&n.cargo===a?Object(m.jsx)(t,{}):Object(m.jsx)(u.a,{to:{pathname:"/inicio",state:{from:e.location}}}):n.status?Object(m.jsx)(t,{}):Object(m.jsx)(u.a,{to:{pathname:"/",state:{from:e.location}}})}})))}),[n]),o},ne=t(24),re=function(e){var a=e.materia,t=Object(c.useContext)(je).usuario,s=Object(c.useState)(""),n=Object(j.a)(s,2),r=n[0],i=n[1],l=function(){var e=Object(d.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat("http://localhost:3001","/materias/inscribir/").concat(a._id,"/").concat(t.id));case 2:c=e.sent,console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a.estudiantes.length>30?i(Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{"data-for":"noCupos","data-tip":"No hay cupos",children:Object(m.jsxs)("button",{className:"btn btn-warning",disabled:!0,children:[Object(m.jsx)("i",{className:"bi bi-plus-circle"})," Inscribir"]})}),Object(m.jsx)(ne.a,{id:"noCupos",place:"bottom",type:"dark",effect:"float"})]})):a.estudiantes.filter((function(e){return e._id===t.id})).length>0?(console.log(t.id),i(Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{"data-for":"yaInscrito","data-tip":"Ya esta inscrito",children:Object(m.jsxs)("button",{className:"btn btn-warning",disabled:!0,children:[Object(m.jsx)("i",{className:"bi bi-plus-circle"})," Ya esta inscrito"]})}),Object(m.jsx)(ne.a,{id:"yaInscrito",place:"bottom",type:"dark",effect:"float"})]}))):i(Object(m.jsx)("div",{children:Object(m.jsxs)("button",{className:"btn btn-warning",onClick:function(){l(a._id)},children:[Object(m.jsx)("i",{className:"bi bi-plus-circle"})," Inscribir"]})}))}),[a]),Object(m.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 my-2",children:Object(m.jsxs)("div",{className:"card border-dark bg-light shadow",children:[Object(m.jsx)("h5",{className:"card-header bg-warning",children:a.nombre}),Object(m.jsxs)("div",{className:"card-body ",children:[Object(m.jsxs)("h5",{className:"card-title",children:["Profesor: ",a.profesor.nombre]}),Object(m.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Seccion: ",a.seccion]}),Object(m.jsx)("p",{className:"card-text ",children:a.descripcion}),Object(m.jsxs)("p",{className:"card-text",children:["Inscritos: ",a.estudiantes.length," / 30"]}),r]})]})})};var ie=function(){var e=Object(c.useState)(""),a=Object(j.a)(e,2),t=a[0],s=a[1],n=Object(c.useState)(""),r=Object(j.a)(n,2),i=r[0],l=r[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/materias/"));case 2:a=e.sent,s(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){t.length>0&&t.map((function(e,a){return l((function(t){return[].concat(Object(f.a)(t),[Object(m.jsx)(re,{materia:e},a)])}))}))}),[t]),Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsxs)("div",{className:"col py-3",children:[Object(m.jsx)("h1",{className:"m-3",children:"Inscribir Materias"}),Object(m.jsx)("p",{className:"lead m-3",children:"Aqui puedes inscribir una materia al pulsar el boton en la tarjeta de la materia que quieras inscribir"}),Object(m.jsx)("div",{className:"row m-2",children:i})]})]})})};var oe=function(){var e=Object(u.g)(),a=Object(c.useState)(""),t=Object(j.a)(a,2),s=t[0],n=t[1],r=Object(u.h)().tokenConfirmacion;return Object(c.useEffect)((function(){(function(){var a=Object(d.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0===r){a.next=5;break}return a.next=3,N.a.get("".concat("http://localhost:3001","/usuarios/confirmar/").concat(r));case 3:200===a.sent.status?(n(Object(m.jsx)("div",{className:"alert alert-success mt-3 mb-0",children:"Cuenta confirmada correctamente, sera redirigido a la pagina de inicio de sesion unos segundos"})),setTimeout((function(){e.push("/login")}),5e3)):n(Object(m.jsx)("div",{className:"alert alert-danger mt-3 mb-0",children:"El token de confirmacion es incorrecto."}));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[r,e]),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(h,{}),Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsxs)("div",{className:"card p-5 m-5 mx-auto w-50",children:[Object(m.jsx)("h1",{className:"display-5 fw-bold col-md-12",children:"Confirmar Usuario"}),s]})}),Object(m.jsx)(x,{})]})};var le=function(){var e=Object(c.useContext)(je).usuario,a=Object(u.g)(),t=Object(c.useState)({contrasenaAnterior:"",contrasenaNueva:"",contrasenaConfirmar:""}),s=Object(j.a)(t,2),n=s[0],r=s[1],i=Object(c.useState)([]),b=Object(j.a)(i,2),h=b[0],x=b[1],O=function(){var t=Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.contrasenaNueva===n.contrasenaConfirmar){t.next=4;break}x([{param:"contrasenaConfirmar",msg:"Por favor confirme la contrase\xf1a"}]),t.next=9;break;case 4:return x([]),t.next=7,N.a.put("".concat("http://localhost:3001","/usuarios/actualizar_contrasena/").concat(e.id),n);case 7:200===(c=t.sent).status?(alert("Contrase\xf1a cambiada correctamente"),a.push("/usuarios/".concat(e.id))):206===c.status?x([{param:"contrasenaNueva",msg:c.data.mensaje}]):console.log(c.data);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container-fluid p-0",children:Object(m.jsxs)("div",{className:"row flex-nowrap gx-0",children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"col m-3 text-center",children:Object(m.jsxs)("div",{className:"card py-3 shadow-lg w-50 mx-auto p-3",children:[Object(m.jsx)("h3",{className:"fw-bold col-xl-12 text-center",children:"Cambiar Contrase\xf1a"}),Object(m.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault()},children:[Object(m.jsxs)("div",{className:"container-fluid mb-3",children:[Object(m.jsx)("label",{htmlFor:"contrasenaAnterior",className:"form-label",children:"Contrase\xf1a anterior:"}),Object(m.jsx)("input",{type:"password",name:"contrasenaAnterior",id:"contrasenaAnterior",className:"form-control",placeholder:"Contrase\xf1a anterior",onChange:function(e){var a=e.target.value;r(Object(l.a)(Object(l.a)({},n),{},{contrasenaAnterior:a}))}}),Object(m.jsx)(A,{errors:h,campo:"contrasenaAnterior"})]}),Object(m.jsxs)("div",{className:"container-fluid mb-3",children:[Object(m.jsx)("label",{htmlFor:"contrasenaNueva",children:"Contrase\xf1a nueva:"}),Object(m.jsx)("input",{type:"password",name:"contrasenaNueva",id:"contrasenaNueva",className:"form-control",placeholder:"Contrase\xf1a nueva",onChange:function(e){var a=e.target.value;r(Object(l.a)(Object(l.a)({},n),{},{contrasenaNueva:a}))}}),Object(m.jsx)(A,{errors:h,campo:"contrasenaNueva"})]}),Object(m.jsxs)("div",{className:"container-fluid mb-3",children:[Object(m.jsx)("label",{htmlFor:"contrasenaConfirmar",children:"Confirme contrase\xf1a nueva:"}),Object(m.jsx)("input",{type:"password",name:"contrasenaConfirmar",id:"contrasenaConfirmar",className:"form-control",placeholder:"Confirme contrase\xf1a",onChange:function(e){var a=e.target.value;r(Object(l.a)(Object(l.a)({},n),{},{contrasenaConfirmar:a}))}}),Object(m.jsx)(A,{errors:h,campo:"contrasenaConfirmar"})]}),Object(m.jsx)("button",{className:"btn btn-warning",onClick:O,children:"Cambiar Contrase\xf1a"})]})]})})]})})};var de=function(){var e=Object(u.h)(),a=e.idUsuario,t=e.codigoConfirmacion,s=Object(u.g)(),n=Object(c.useState)({contrasenaNueva:"",contrasenaConfirmar:""}),r=Object(j.a)(n,2),i=r[0],b=r[1],O=Object(c.useState)(""),p=Object(j.a)(O,2),f=p[0],v=p[1],g=Object(c.useState)([]),w=Object(j.a)(g,2),k=w[0],C=w[1],y=function(){var e=Object(d.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.contrasenaNueva===i.contrasenaConfirmar){e.next=4;break}C([{param:"contrasenaConfirmar",msg:"Por favor confirme la contrase\xf1a"}]),e.next=9;break;case 4:return C([]),e.next=7,N.a.put("".concat("http://localhost:3001","/usuarios/auth/recuperarContrasena/").concat(a,"/").concat(t),i);case 7:200===(c=e.sent).status?(f("\xa1Contrase\xf1a cambiada con exito!"),s.push("/login")):206===c.status?C(c.data.errors.errors):207===c.status?C([{param:"contrasenaNueva",msg:c.data.mensaje}]):208===c.status?v(Object(m.jsx)("div",{className:"alert alert-danger mt-2",children:c.data.mensaje})):(f("Ha ocurrido un error"),s.go(0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{}),Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsxs)("div",{className:"card p-5 m-5 mx-auto shadow-lg",style:{width:"60%"},children:[Object(m.jsx)("h1",{className:"display-5 fw-bold col-md-12",children:"Cambiar Contrase\xf1a"}),Object(m.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault()},className:"mt-2",children:[Object(m.jsxs)("div",{className:"container-fluid mb-3 row",children:[Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsx)("label",{htmlFor:"contrasenaNueva",className:"form-label mt-2",children:"Contrase\xf1a nueva:"})}),Object(m.jsxs)("div",{className:"col-lg-6",children:[Object(m.jsx)("input",{type:"password",name:"contrasenaNueva",id:"contrasenaNueva",className:"form-control",placeholder:"Contrase\xf1a nueva",onChange:function(e){var a=e.target.value;b(Object(l.a)(Object(l.a)({},i),{},{contrasenaNueva:a}))}}),Object(m.jsx)(A,{errors:k,campo:"contrasenaNueva"})]})]}),Object(m.jsxs)("div",{className:"container-fluid mb-3 row",children:[Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsx)("label",{htmlFor:"contrasenaConfirmar",className:"form-label mt-2",children:"Confirme contrase\xf1a nueva:"})}),Object(m.jsxs)("div",{className:"col-lg-6",children:[Object(m.jsx)("input",{type:"password",name:"contrasenaConfirmar",id:"contrasenaConfirmar",className:"form-control",placeholder:"Confirme contrase\xf1a",onChange:function(e){var a=e.target.value;b(Object(l.a)(Object(l.a)({},i),{},{contrasenaConfirmar:a}))}}),Object(m.jsx)(A,{errors:k,campo:"contrasenaConfirmar"})]})]}),Object(m.jsx)("button",{className:"btn btn-warning",onClick:y,children:"Cambiar Contrase\xf1a"}),f]})]})}),Object(m.jsx)(x,{})]})},je=Object(c.createContext)(""),be=function(){var e=Object(c.useState)({usuario:"",cargo:"",id:"",status:void 0}),a=Object(j.a)(e,2),t=a[0],s=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:3001","/usuarios/auth"),{headers:{accessToken:localStorage.getItem("accessToken")}});case 2:(a=e.sent).data.error?s(Object(l.a)(Object(l.a)({},t),{},{status:!1})):s(Object(l.a)(Object(l.a)({},a.data),{},{status:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsx)(je.Provider,{value:{usuario:t,setUsuario:s},children:Object(m.jsx)(b.a,{forceRefresh:!0,children:Object(m.jsxs)(u.d,{children:[Object(m.jsx)(se,{exact:!0,path:"/",component:p,cargo:"Ninguno"}),Object(m.jsx)(se,{path:"/inicio",cargo:"Cualquiera",component:te}),Object(m.jsx)(se,{exact:!0,path:"/contacto",component:Y,cargo:"Ninguno"}),Object(m.jsx)(se,{exact:!0,path:"/materias/",cargo:"Cualquiera",component:C}),Object(m.jsx)(se,{exact:!0,path:"/materias/inscribir",cargo:"Cualquiera",component:ie}),Object(m.jsx)(se,{exact:!0,path:"/materias/:id",cargo:"Cualquiera",component:S}),Object(m.jsx)(se,{exact:!0,path:"/materia/crear",cargo:"Administrador",component:q}),Object(m.jsx)(se,{exact:!0,path:"/materia/crear/:id",cargo:"Administrador",component:q}),Object(m.jsx)(se,{exact:!0,path:"/materias/:idMateria/actividades/:idActividad",cargo:"Cualquiera",component:U}),Object(m.jsx)(se,{exact:!0,path:"/materias/:idMateria/actividad/crear",cargo:"Profesor",component:X}),Object(m.jsx)(se,{exact:!0,path:"/materias/:idMateria/actividad/crear/:id",cargo:"Profesor",component:X}),Object(m.jsx)(u.b,{exact:!0,path:"/login",component:z}),Object(m.jsx)(se,{exact:!0,path:"/recuperar",component:ae,cargo:"Ninguno"}),Object(m.jsx)(se,{exact:!0,path:"/recuperar/:idUsuario/:codigoConfirmacion",component:de,cargo:"Ninguno"}),Object(m.jsx)(se,{exact:!0,path:"/registro/",component:ee,cargo:"Ninguno"}),Object(m.jsx)(se,{exact:!0,path:"/usuarios",cargo:"Administrador",component:V}),Object(m.jsx)(se,{exact:!0,path:"/usuarios/:id",cargo:"Cualquiera",component:R}),Object(m.jsx)(se,{exact:!0,path:"/usuario/crear",cargo:"Administrador",component:$}),Object(m.jsx)(se,{exact:!0,path:"/usuario/crear/:id",cargo:"Cualquiera",component:$}),Object(m.jsx)(u.b,{exact:!0,path:"/confirmar/:tokenConfirmacion",component:oe}),Object(m.jsx)(se,{exact:!0,path:"/usuario/cambiarcontrasena",cargo:"Cualquiera",component:le}),Object(m.jsx)(se,{exact:!0,path:"/notas",cargo:"Cualquiera",component:Q})]})})})},ue=(t(66),t(37));t.n(ue).a.config({path:"../env"}),r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(be,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.401948c9.chunk.js.map